{"openapi":"3.1.0","servers":[{"url":"/","description":"This server"},{"url":"https://api.b2b.pse.pl/","description":"B2B REST API server"}],"paths":{"/pwdp/api/v1/plannedResourceSchedule":{"post":{"tags":["planned-resource-schedule-controller"],"summary":"Przesłanie planu pracy / harmonogramu dyspozycyjności","operationId":"submitPlannedResourceSchedule","requestBody":{"content":{"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.SubmitRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.SubmitRequest"}}},"required":true},"responses":{"202":{"description":"Poprawnie odebrano dane wejściowe i rozpoczęto przetwarzanie","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.SubmitResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.SubmitResponse"}}}},"422":{"description":"Dane przesłane przez klienta mają poprawny format, jednak są niepoprawne semantycznie","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}}}},"500":{"description":"Wewnętrzny błąd serwera","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}}}},"403":{"description":"Odmowa dostępu","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}}}}},"security":[{"oauth2":[]}]}},"/pwdp/api/v1/plannedResourceSchedule/{serverRefId}/status":{"get":{"tags":["planned-resource-schedule-controller"],"summary":"Odczytanie statusu przetwarzania przesłanego planu pracy / harmonogramu dyspozycyjności","operationId":"getPlannedResourceScheduleProcessingStatus","parameters":[{"name":"serverRefId","in":"path","description":"Unikalne ID nadane przez system PSE, które służy do identyfikacji procesu przesłania danych","required":true,"schema":{"format":"uuid","description":"Unikalne ID nadane przez system PSE, które służy do identyfikacji procesu przesłania danych","example":"550e8400-e29b-41d4-a716-446655440000"},"example":"550e8400-e29b-41d4-a716-446655440000"}],"responses":{"500":{"description":"Wewnętrzny błąd serwera","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}}}},"200":{"description":"Poprawnie odczytano status przetwarzania przesłanego planu pracy / harmonogramu dyspozycyjności","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ProcessingStatusResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ProcessingStatusResponse"}}}},"404":{"description":"Nie znaleziono danych przesłanego grafiku / harmonogramu dla podanego serverRefId","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}}}},"403":{"description":"Odmowa dostępu","content":{"application/json":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}},"application/xml":{"schema":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ErrorResponse"}}}}},"security":[{"oauth2":[]}]}}},"components":{"schemas":{"pl.pse.psei.pwdp.b2b.api.model.PlannedResource":{"type":"object","description":"Zestaw danych dla wybranego parametru obejmujący wektor (serię) wartości wraz z wielkościami dla wskazanego parametru wybranego obiektu","properties":{"mrid":{"type":"string","description":"Identyfikator mRID serii, unikalny w ramach pliku","example":1,"maxLength":40,"xml":{"attribute":true}},"businessType":{"type":"string","description":"Typ opisujący serię danych","enum":["A01","P01","A60","A61","P60","P61","A04","A73"],"example":"A60","xml":{"attribute":true}},"measurementUnit":{"type":"string","description":"Jednostka miary dla wartości","enum":["MAW"],"example":"MAW","xml":{"attribute":true}},"registeredResourceMrid":{"type":"string","description":"Identyfikator mRID obiektu, na który zgłaszane są dane, unikalny","example":"_d8736017-d25d-4952-a3cf-0fa83560e16f","maxLength":60,"xml":{"attribute":true}},"seriesPeriods":{"type":"array","description":"Tablica serii danych w podanych okresach","items":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.SeriesPeriod"},"xml":{"wrapped":true}}},"required":["businessType","measurementUnit","mrid","registeredResourceMrid"],"title":"PlannedResource","xml":{"name":"plannedResource"}},"pl.pse.psei.pwdp.b2b.api.model.SeriesPeriod":{"type":"object","description":"Seria danych w podanym okresie (szereg czasowy)","properties":{"timeInterval":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.TimeInterval","description":"Przedział czasowy - zakres szeregu czasowego"},"resolution":{"type":"string","description":"Rozdzielczość serii danych: PT15M - kwadransowa, PT1H - godzinowa, P1D - dobowa, P1M – miesięczna","enum":["PT15M","PT1H","P1D","P1M"],"example":"PT1H","xml":{"attribute":true}},"seriesPoints":{"type":"array","description":"UWAGA: w przypadku harmonogramu dyspozycyjności nie trzeba podawać kompletu punktów czasowych, jedynie te punkty, w których wartości ulegają zmianie","items":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.SeriesPoint"},"xml":{"wrapped":true}},"continuousSeriesPoints":{"type":"array","description":"Lista wartości dla kolejnych punktów w czasie dla zadanego okresu, zgodnie z przyjętą rozdzielczością. UWAGA: Należy zdefiniować albo seriesPoints albo continuousSeriesPoints. Gdy zdefiniowane są oba, serwis zwróci błąd.","items":{"type":"number","xml":{"name":"continuousSeriesPoints"}}}},"required":["resolution","timeInterval"],"title":"SeriesPeriod","xml":{"name":"seriesPeriod"}},"pl.pse.psei.pwdp.b2b.api.model.SeriesPoint":{"type":"object","description":"Wartość parametru w danym punkcie czasu (np. na daną godzinę)","properties":{"position":{"type":"integer","format":"int64","description":"Kolejny numer pozycji (punktu czasowego), interpertowany w zależności od SeriesPeriod.timeInterval oraz SeriesPeriod.resolution","example":42,"xml":{"attribute":true}},"quantity":{"type":"number","format":"numeryczny [4,3]","description":"Planowana wielkość, iterpretowana w zależności od PlannedResource.businessType oraz PlannedResource.measurementUnit","example":42.128,"xml":{"attribute":true}}},"required":["position","quantity"],"title":"SeriesPoint","xml":{"name":"seriesPoint"}},"pl.pse.psei.pwdp.b2b.api.model.SubmitRequest":{"type":"object","description":"Plan pracy lub harmonogram dyspozycyjności","properties":{"clientRefId":{"type":"string","description":"Opcjonalne ID żądania nadane przez klienta API","example":"4bfa71da-146b-4df9-b972-6a5ce18f2342","maxLength":80,"xml":{"attribute":true}},"type":{"type":"string","description":"Typ grafiku","enum":["A28","A30","A71"],"example":"A28","xml":{"attribute":true}},"schedulePeriod":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.TimeInterval","description":"Przedział czasowy grafiku. Traktujemy jako przedział lewostronnie domknięty"},"plannedResources":{"type":"array","description":"Typ grafiku","items":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.PlannedResource"},"xml":{"wrapped":true}}},"required":["plannedResources","schedulePeriod","type"],"title":"SubmitRequest","xml":{"name":"submitRequest"}},"pl.pse.psei.pwdp.b2b.api.model.TimeInterval":{"type":"object","description":"Przedział czasu","properties":{"start":{"type":"string","format":"date-time","description":"Data początku okresu","example":"2024-03-12T02:00:00.000Z","xml":{"attribute":true}},"end":{"type":"string","format":"date-time","description":"Data końca okresu","example":"2024-03-22T02:00:00.000Z","xml":{"attribute":true}}},"required":["end","start"],"title":"TimeInterval","xml":{"name":"timeInterval"}},"pl.pse.psei.pwdp.b2b.api.model.ScheduleValidationViolation":{"type":"object","description":"Opis naruszeń walidacji w czasie przetwarzenia przesłanych dokumentów","properties":{"severity":{"type":"string","description":"Stopień naruszenia walidacji powstałego w czasie przetwarzania","enum":["INFO","WARN","ERROR"],"example":"WARN","xml":{"attribute":true}},"code":{"type":"string","description":"Kod naruszenia walidacji powstałego w czasie przetwarzania","example":"U01","xml":{"attribute":true}},"message":{"type":"string","description":"Opis naruszenia walidacji powstałego w czasie przetwarzania","example":"Wartość z grafiku przekracza 100% wartości maksymalnej mocy netto","xml":{"attribute":true}},"details":{"type":"string","description":"Szczegóły naruszenia walidacji powstałego w czasie przetwarzania","example":"Dotyczy serii o mRID 84b95902-23c5-46b0-848c-c6ac0d5a4489","xml":{"attribute":true}}},"required":["message","severity"],"title":"ScheduleValidationViolation","xml":{"name":"scheduleValidationViolation"}},"pl.pse.psei.pwdp.b2b.api.model.SubmitResponse":{"type":"object","description":"Odpowiedź potwierdzająca przyjęcie przesłanych danych do przetwarzania","properties":{"serverRefId":{"type":"string","format":"uuid","description":"Unikalne ID nadane przez system PSE, które służy do identyfikacji procesu przesłania danych","example":"550e8400-e29b-41d4-a716-446655440000","xml":{"attribute":true}},"clientRefId":{"type":"string","description":"Opcjonalne ID żądania nadane przez klienta API","example":"4bfa71da-146b-4df9-b972-6a5ce18f2342","maxLength":80,"xml":{"attribute":true}},"receivedTime":{"type":"string","format":"date-time","description":"Data odebrania żądania","example":"2024-03-12T02:00:00.000Z","xml":{"attribute":true}},"status":{"type":"string","description":"Status operacji odebrania i wstępnej walidacji żądania","enum":["ACCEPTED","APPROVED","REJECTED"],"example":"SUCCESS","xml":{"attribute":true}},"validationViolations":{"type":"array","description":"Błędy i naruszenia walidacji zgłoszone w czasie wstępnej walidacji przesłanych danych","items":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ScheduleValidationViolation"},"xml":{"wrapped":true}}},"required":["receivedTime","serverRefId","status"],"xml":{"name":"submitResponse"}},"pl.pse.psei.pwdp.b2b.api.model.ErrorResponse":{"type":"object","description":"Odpowiedź z serwera w przypadku błędu","properties":{"message":{"type":"string","description":"Opis błędu","example":"Błąd przetwarzania","xml":{"attribute":true}},"errorDetails":{"type":"string","description":"Szegóły przyczyny błędu","example":"Brak elementu o podanym mRID","xml":{"attribute":true}}},"required":["errorDetails","message"],"xml":{"name":"errorResponse"}},"pl.pse.psei.pwdp.b2b.api.model.ProcessingStatusResponse":{"type":"object","description":"Odpowiedź na zapytanie o status przetwarzania przesłanego dokumentu","properties":{"serverRefId":{"type":"string","format":"uuid","description":"Unikalne ID nadane przez system PSE, które służy do identyfikacji procesu przesłania danych","example":"550e8400-e29b-41d4-a716-446655440000","xml":{"attribute":true}},"clientRefId":{"type":"string","description":"Opcjonalne ID żądania nadane przez klienta API","example":"4bfa71da-146b-4df9-b972-6a5ce18f2342","maxLength":80,"xml":{"attribute":true}},"status":{"type":"string","description":"Status operacji przetworzenia przesłanych danych","enum":["ACCEPTED","APPROVED","REJECTED"],"example":"SUCCESS","xml":{"attribute":true}},"validationViolations":{"type":"array","description":"Błędy i naruszenia walidacji zgłoszone w czasie przetwarzania przesłanych danych","items":{"$ref":"#/components/schemas/pl.pse.psei.pwdp.b2b.api.model.ScheduleValidationViolation"},"xml":{"wrapped":true}}},"required":["serverRefId","status"],"xml":{"name":"processingStatusResponse"}}},"securitySchemes":{"oauth2":{"type":"oauth2","flows":{"clientCredentials":{"tokenUrl":"https://ip.b2b.pse.pl/oauth2/realms/pwdp-b2b-api/protocol/openid-connect/token","scopes":{}}}}}}}